# ===============================================
# CONSOLIDATED ENVIRONMENT CONFIGURATION
# Misurata Entrepreneurship and Business Incubator Center
# Last Updated: 2025
# ===============================================

# -----------------------------------------------
# 1. DATABASE CONFIGURATION
# -----------------------------------------------
# Production database (uncomment for production)
# DATABASE_URL="mysql://citcoder_eitdc:1WpV3ZvlUUI9@localhost:3306/citcoder_eitdc"

# Development database (currently active)
DATABASE_URL="mysql://root:root@localhost:3306/citcoder_eitdc"

# -----------------------------------------------
# 2. APPLICATION SETTINGS
# -----------------------------------------------
NEXT_PUBLIC_APP_NAME="Misurata Entrepreneurship Center"
NEXT_PUBLIC_APP_URL="http://localhost:3000"
NEXTAUTH_URL="http://localhost:3000"
NEXTAUTH_SECRET="VOELDsagoTczKeFeVsfcEWtuejdwveGcfEJc9xuOhwA="

# -----------------------------------------------
# 3. ADMIN CONFIGURATION
# -----------------------------------------------
INIT_ADMIN_USERNAME="eitdc_admin"
INIT_ADMIN_PASSWORD="16Q7hCnPb0e"
ADMIN_API_KEY="generate-secure-api-key-for-monitoring"  # Generate this for production

# -----------------------------------------------
# 4. EMAIL SYSTEM - CIT.EDU.LY DOMAIN
# -----------------------------------------------
# Provider: Use 'smtp' for custom domain
EMAIL_PROVIDER="smtp"

# SMTP Settings for cit.edu.ly
# Common mail server hostnames:
# - mail.cit.edu.ly
# - smtp.cit.edu.ly
# - webmail.cit.edu.ly
SMTP_HOST="mail.cit.edu.ly"
SMTP_PORT="587"  # Use 465 for SSL, 587 for TLS, 25 for unencrypted
SMTP_SECURE="false"  # Set to true if using port 465
SMTP_USER="ebic@cit.edu.ly"
SMTP_PASS="G8VUG5=gWW2r2gP<"

# Email Addresses - All using cit.edu.ly domain
EMAIL_FROM="ebic@cit.edu.ly"
SMTP_FROM="ebic@cit.edu.ly"  # Legacy support
EMAIL_SUPPORT="ebic@cit.edu.ly"
EMAIL_ADMIN="ebic@cit.edu.ly"
EMAIL_REPLY_TO="ebic@cit.edu.ly"
ADMIN_NOTIFICATION_EMAIL="ebic@cit.edu.ly"

# Rate Limiting (adjust based on your server limits)
EMAIL_RATE_LIMIT_PER_HOUR="100"
EMAIL_RATE_LIMIT_PER_DAY="1000"

# Retry Configuration
EMAIL_MAX_RETRY_ATTEMPTS="3"
EMAIL_RETRY_INITIAL_DELAY="5000"
EMAIL_RETRY_MAX_DELAY="300000"

# Development Mode
USE_EMAIL_LOGGING="false"  # Set to true to log emails instead of sending

# -----------------------------------------------
# 5. REDIS CONFIGURATION (for Email Queue)
# -----------------------------------------------
REDIS_HOST="localhost"
REDIS_PORT="6379"
# REDIS_PASSWORD=""  # Uncomment if Redis requires authentication

# Queue Configuration
EMAIL_QUEUE_CONCURRENCY="5"
EMAIL_WORKER_CONCURRENCY="3"
EMAIL_QUEUE_REMOVE_ON_COMPLETE="true"
EMAIL_QUEUE_REMOVE_ON_FAIL="false"

# -----------------------------------------------
# 6. OAUTH PROVIDERS (Optional)
# -----------------------------------------------
# Google OAuth (leave empty if not using)
GOOGLE_CLIENT_ID=""
GOOGLE_CLIENT_SECRET=""

# GitHub OAuth (leave empty if not using)
GITHUB_CLIENT_ID=""
GITHUB_CLIENT_SECRET=""

# -----------------------------------------------
# 7. SECURITY & MONITORING
# -----------------------------------------------
# Security Headers
ALLOWED_ORIGINS="http://localhost:3000,https://ebic.cit.edu.ly,https://www.cit.edu.ly"
RATE_LIMIT_WINDOW="900000"  # 15 minutes in milliseconds
RATE_LIMIT_MAX_REQUESTS="100"

# Monitoring
ENABLE_MONITORING="true"
LOG_LEVEL="info"  # error, warn, info, debug
SENTRY_DSN=""  # Optional: for error tracking

# -----------------------------------------------
# 8. FEATURE FLAGS
# -----------------------------------------------
ENABLE_EMAIL_QUEUE="true"
ENABLE_TWO_FACTOR_AUTH="true"
ENABLE_DISPOSABLE_EMAIL_CHECK="true"
ENABLE_EMAIL_ANALYTICS="true"

# -----------------------------------------------
# IMPORTANT NOTES:
# -----------------------------------------------
# 1. This file consolidates all environment variables
# 2. Remove .env.example, .env.smtp.example after migration
# 3. For cit.edu.ly email to work:
#    - Ensure firewall allows ports 25, 465, 587
#    - May need to whitelist server IP with IT department
#    - Test connection with scripts/test-email.js
# 4. Common mail server issues:
#    - If mail.cit.edu.ly doesn't work, try:
#      * smtp.cit.edu.ly
#      * webmail.cit.edu.ly
#      * mx.cit.edu.ly
#    - Try different ports: 25, 465, 587, 2525
# -----------------------------------------------
